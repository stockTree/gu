<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        #canvas {
            background-color: green
        }
    </style>
</head>

<body>
<!-- 先写出canvas 的大小  直接pageWidth那个来写
写出onmouse的api
接着在里面先写上画笔坐标 还有判断哪些的
写完之后  添加上橡皮的


api{
    onmouse 的三个
    canvas的直线 圆 清除
    pageWidth的那个
} -->





    <canvas id="canvas">
    </canvas>
    <button id="eraser">
        橡皮擦
    </button>


    <script>
        var canvas = document.getElementById('canvas');
 function xx() {
            var pageWidth = document.documentElement.clientWidth
            var pageHeight = document.documentElement.clientHeight
            canvas.width = pageWidth
            canvas.height = pageHeight
            console.log(pageWidth)
            console.log(pageHeight)

        }
        xx();
        window.onresize = function () {
            xx();
        }
       






        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var using = false
        //鼠标按下
        var oldDot = { x: undefined, y: undefined }
        canvas.onmousedown = function (aaa) {
            using = true
            x = aaa.clientX
            y = aaa.clientY
            if(eraserEnable){
                context.clearRect(x-5,y-5,10,10)
            }else{
                oldDot = { x: x, y: y }
            // circle(x, y, 2);
            }
        }
        // 鼠标移动

        canvas.onmousemove = function (aaa) {
            // var newDot = { x: undefined, y: undefined }
            if (using) {
                x = aaa.clientX
                y = aaa.clientY
                if(eraserEnable){
                    context.clearRect(x-5,y-5,10,10)
                }else{
                    newDot = { x: x, y: y }
                drawLine(oldDot.x, oldDot.y, newDot.x, newDot.y);
                oldDot = newDot
                }
                

            }

        }
        // 鼠标抬起
        canvas.onmouseup = function (aaa) {
            using = false
        }



        // 画圆 
        function circle(x, y, radius) {
            context.beginPath();
            // content.lineWhite = 5
            context.arc(x, y, radius, 0, 2 * Math.PI);
            context.fillStyle = 'red'
            context.fill();
        }

        //画线

        function drawLine(x1, y1, x2, y2) {
            context.beginPath();
            context.lineWidth= 4
            context.moveTo(x1, y1);
            context.lineWidth= 4
            context.lineTo(x2, y2);
            // context.fillStyle = "red";
            // context.fill();
        //     context.moveTo(x1,y1);
        // context.lineTo(x2,y2);
        context.strokeStyle = "red";
        context.stroke();
            context.closePath(); 
        }

        var eraserEnable = false
        eraser.onclick=function(){
            eraserEnable = !eraserEnable
        }


    </script>
</body>

</html>